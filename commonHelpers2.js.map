{"version":3,"file":"commonHelpers2.js","sources":["../src/js/api-requests.js","../src/js/markup.js","../src/js/home.js","../src/js/scrollBtn.js"],"sourcesContent":["import axios from 'axios';\n\nexport class API_SERVICE {\n  #BASE_URL = 'https://books-backend.p.goit.global/';\n\n  constructor(selectedCategory, bookId) {\n    this.selectedCategory = selectedCategory;\n    this.bookId = bookId;\n  }\n  // -------------Запит на категорії-----------------------------\n  booksGategoryListRequest() {\n    return axios.get(`${this.#BASE_URL}books/category-list`);\n  }\n\n  // ---------------Запит на ТОП книги(бестселлери)-----------------\n\n  topBooksRequest() {\n    return axios.get(`${this.#BASE_URL}books/top-books`);\n  }\n\n  // -------------Запит на категорію книги (категорії в сайд барі і по кнопці see more) -----------------\n\n  categoryRequest() {\n    return axios.get(\n      `${this.#BASE_URL}books/category?category=${selectedCategory}`\n    );\n  }\n\n  bookIdRequest() {\n    return axios.get(`${this.#BASE_URL}books/${this.bookId}`);\n  }\n}\n","import { API_SERVICE } from './api-requests';\n\nconst bookCollection = document.querySelector('.books-gallery');\nconst api = new API_SERVICE();\n\nexport default async function createMarkup(category) {\n  const res = await api.categoryRequest(category);\n  console.log(res);\n  const books = await res.data;\n  console.log(books);\n\n  function removeLastWord(category) {\n    let words = category.split(' ');\n    words.pop();\n    let result = words.join(' ');\n    return result;\n  }\n\n  function LastWord(category) {\n    var words = category.trim().split(' '); //Splitting sentence into words\n    return words[words.length - 1]; //Returning the last word\n  }\n\n  function collectionMarkup() {\n    return `<h1 class=\"collection-title\">${removeLastWord(\n      category\n    )} <span>${LastWord(category)}</span></h1>\n    <ul class=\"top-books rendering-gap js-list-rendering\">\n\n    ${books\n      .map(({ title, book_image, author, _id }) => {\n        return `<li class=\"book-card\" data-id=\"${_id}\">\n        <div class=\"book-thumb\">\n      <img class=\"book-cover\" src=\"${book_image}\" alt=\"${title}\">\n      <div class=\"quick-view\">\n                <p class=\"quick-view-text\">QUICK VIEW</p>\n                </div>\n                </div>\n                <div class=\"book-descr\">\n      <h2 class=\"book-name\">${title}</h2>\n      <h3 class=\"book-author\">${author}</h3>\n      </div>\n  </li>`;\n      })\n      .join('')}\n    </ul>\n    \n    `;\n  }\n\n  bookCollection.innerHTML = collectionMarkup();\n}\n","// import axios from 'axios';\nimport { API_SERVICE } from './api-requests';\nimport createMarkup from './markup';\nconst api = new API_SERVICE();\n\n// ----------------Отримання  масив обєктів з категоріями книг-----------------\nasync function getBooksCategoryList() {\n  try {\n    const response = await api.booksGategoryListRequest();\n    // console.log(response);\n    const booksCategory = response.data;\n    return booksCategory;\n  } catch (error) {\n    console.log('Error');\n  }\n}\n\nconst categoryList = document.querySelector('.category-list');\nconsole.log(categoryList);\n\nasync function getBookGategoty() {\n  const categories = await getBooksCategoryList();\n\n  const markup = categories\n    .map(\n      category =>\n        `<li class=\"book-category__list-item\">${category.list_name}</li>`\n    )\n    .join('');\n  categoryList.insertAdjacentHTML('beforeend', markup);\n}\nif (categoryList) {\n  getBookGategoty();\n\n  categoryList.addEventListener('click', onCategoryListSearchCategory);\n}\n\nasync function onCategoryListSearchCategory(evt) {\n  if (evt.target.nodeName !== 'LI') {\n    return;\n  }\n\n  const category = evt.target.textContent;\n  highlightCategory(category);\n\n  if (category !== 'All categories') {\n    await createMarkup(category);\n  } else {\n    await renderCategories();\n  }\n}\n\nexport function highlightCategory(category) {\n  const items = document.querySelectorAll('.book-category__list-item');\n\n  for (const item of items) {\n    if (item.textContent === category) item.classList.add('active');\n    else item.classList.remove('active');\n  }\n}\n\n// -------------Отримання масиву обєктів з усіма книгами(бестселлери)-------\n\nasync function getTopBooks() {\n  try {\n    const response = await api.topBooksRequest();\n    // console.log(response);\n    const topBooks = response.data;\n    // console.log(topBooks);\n    return topBooks;\n  } catch (error) {\n    console.log('Error');\n  }\n}\ngetTopBooks();\n// --------------Отримання масиву обєктів з кинжками обраної категорії----------\n\n// async function getBooksByCategory() {\n//   try {\n//     const response = await api.categoryRequest(category);\n//     // console.log(response);\n//     const booksByCategory = response.data;\n//     console.log(booksByCategory);\n//     return booksByCategory;\n//   } catch (error) {\n//     console.log('Error');\n//   }\n// }\n// getBooksByCategory();\n","export const scrollBtn = {\n  btn: document.querySelector('.scrollBtn'),\n  show() {\n    this.btn.classList.remove('scrollBtn-hide');\n  },\n  hide() {\n    this.btn.classList.add('scrollBtn-hide');\n  },\n  addEventListener() {\n    if (this.btn) {\n      window.addEventListener('scroll', () => {\n        const scrollY = window.scrollY || document.documentElement.scrollTop;\n        scrollY > 100 ? this.show() : this.hide();\n      });\n      this.btn.onclick = () => {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n      };\n    }\n  },\n};\nscrollBtn.addEventListener();\n"],"names":["API_SERVICE","selectedCategory","bookId","__privateAdd","_BASE_URL","axios","__privateGet","bookCollection","api","createMarkup","category","res","books","removeLastWord","words","LastWord","collectionMarkup","title","book_image","author","_id","getBooksCategoryList","categoryList","getBookGategoty","markup","onCategoryListSearchCategory","evt","highlightCategory","items","item","getTopBooks","scrollBtn"],"mappings":"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"}